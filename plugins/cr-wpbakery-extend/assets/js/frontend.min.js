!function(p){window.ChevRes={defaults:{YT:{autoplay:0,autohide:0,modestbranding:1,rel:0,showinfo:0,controls:0,disablekb:1,enablejsapi:0,iv_load_policy:3,loop:1}},Storage:{},debounce:function(r,i,n){var o;return function(){var e=this,a=arguments,t=n&&!o;clearTimeout(o),o=setTimeout(function(){o=null,n||r.apply(e,a)},i),t&&r.apply(e,a)}},waypoint:function(){void 0!==p.fn.waypoint&&p(".cr-animate-when-visible").each(function(){var a=p(this);a.hasClass("cr-animate-bothway")?(a.waypoint(function(e){"down"===e&&a.addClass("cr_start_animation")},{offset:"75%",triggerOnce:!1}),a.waypoint(function(e){"up"===e&&a.removeClass("cr_start_animation")},{offset:"75%",triggerOnce:!1})):a.waypoint(function(e){a.addClass("cr_start_animation")},{offset:"85%"})})},heroSlider:function(){void 0!==p.fn.revolution&&p(".cr-rev-slider").each(function(){var e=p(this),a=e.data("crdelay");a=a||4e3,e.closest(".wpb_row").addClass("cr-row-has-hero-slider"),e.show().revolution({sliderLayout:"fullscreen",lazyType:"all",spinner:"spinner2"})})},propertySlider:function(){void 0!==p.fn.slick&&p(".property-slider-con").each(function(){var e=p(this);e.on("beforeChange",function(e,a,t){p(this).removeClass("property-slider-start-animate")}).on("afterChange init",function(e,a,t){p(this).addClass("property-slider-start-animate")}).slick({speed:700,infinite:!0,slidesToScroll:1,prevArrow:e.closest(".property-slider-inner").find(".property-slider-arrow-left"),nextArrow:e.closest(".property-slider-inner").find(".property-slider-arrow-right")})})},miniGridGallery:function(){var d=this;d.Storage.MiniGridGalleries={},p(".mini-gallery-slider").each(function(){var e=p(this),a=e.siblings(".mini-gallery-slider-pagination"),t=a.find(".mg-current"),r=e.attr("id"),i=e.data("effect"),n=parseInt(e.data("speed")),o=e.data("pagination"),s=!1,l=null;if(r){"random"===(i=i?""+i:"13")&&(i="13,17,14,7",s=!0);var c={sliderId:r,startSlide:0,effect:i,effectRandom:s,pauseTime:n=n||4e3,transitionTime:500,slices:8,boxes:7,hoverPause:2,autoAdvance:!0,thumbnailsWrapperId:null,m:!1,license:"mylicense"};"yes"===o&&a.length&&(c.beforeSlideChange=function(e){},c.afterSlideChange=function(e){t.html(e[0]+1)}),l=new mcImgSlider(c),d.Storage.MiniGridGalleries[r]=l,"yes"===o&&a.length&&(t.html(1),a.removeClass("cr-hide"))}})},lightbox:function(){p(".cr-fancybox-minimum").fancybox({infobar:!1,loop:!0,buttons:["close"],animationDuration:500,transitionEffect:"fade",transitionDuration:500})},miniGalleryGridResize:function(){if(void 0!==this.Storage.MiniGridGalleries)for(var e in ChevRes.Storage.MiniGridGalleries)ChevRes.Storage.MiniGridGalleries[e].reload()},gallery:function(){void 0!==p.fn.masonry&&p(".cr-gallery-isotope").each(function(){var e=p(this);e.waitForImages(function(){e.on("layoutComplete",function(e){p(".cr-gallery-item",p(this)).waypoint(function(){p(this).addClass("cr_start_animation")},{offset:"75%",triggerOnce:!0})}).masonry({columnWidth:".cr-gallery-item",percentPosition:!0,itemSelector:".cr-gallery-item",resize:!0})})})},YoutubeVideosFrames:function(){var a=0;if(ChevRes.Storage.YTPlayersData={},ChevRes.Storage.YTPlayers={},p(".cr-iframe-video").each(function(){var e;e="cr-youtube-player-"+ ++a,p(this).data("playerid",e).append("<div id='"+e+"'></div><span class='cr-yt-play-icon' id='play-"+e+"'></span>"),ChevRes.Storage.YTPlayersData[e]=p(this).data("videoid")}),a&&"undefined"==typeof YT){var e=document.createElement("script");e.src="https://www.youtube.com/iframe_api";var t=document.getElementsByTagName("script")[0];t.parentNode.insertBefore(e,t)}},createYTPlayer:function(e){var a=p("#"+e).closest(".cr-iframe-video-parent"),t=this.Storage.YTPlayers.playerID=new YT.Player(e,{height:"390",width:"640",videoId:this.Storage.YTPlayersData[e],playerVars:this.defaults.YT,events:{onReady:function(e){p(t.a).waypoint(function(){1024<window.innerWidth&&t.playVideo(),t.mute()},{offset:"75%",triggerOnce:!0})},onStateChange:function(e){e.data===YT.PlayerState.PLAYING?a.removeClass("cr-yt-not-started"):e.data===YT.PlayerState.ENDED?e.target.playVideo():-1===e.data?a.addClass("cr-yt-not-started"):e.data===YT.PlayerState.PAUSED&&a.addClass("cr-yt-not-paused")}}})},maps:function(){if("undefined"!=typeof crMapData&&crMapData.KEY){var a=0;if(ChevRes.Storage.MapData={appKey:crMapData.KEY,maps:{}},ChevRes.Storage.Maps={},p(".cr-map").each(function(){var e=p(this).attr("id");e&&crMapData&&crMapData[e]&&(a++,ChevRes.Storage.MapData.maps[e]=crMapData[e])}),"undefined"==typeof google||void 0===google.maps){if(a){var e=document.createElement("script");e.async=!0,e.defer=!0,e.src="https://maps.googleapis.com/maps/api/js?key="+ChevRes.Storage.MapData.appKey+"&callback=crInitMaps";var t=document.getElementsByTagName("script")[0];t.parentNode.insertBefore(e,t)}}else a&&this.initMaps()}},initMaps:function(){if(void 0!==ChevRes.Storage.MapData){for(var e in ChevRes.Storage.MapData.maps)ChevRes.createMap(e);p(".cr-map-filter-icon").on("click",function(e){e.preventDefault();var a=p(this),t=a.data("filtername"),r=a.data("mapid"),i=a.hasClass("cr-map-marker-hidden");if(r&&t&&(i?a.removeClass("cr-map-marker-hidden"):a.addClass("cr-map-marker-hidden"),"undefined"!==ChevRes.Storage.Maps[r]))for(var n=0;n<ChevRes.Storage.Maps[r].markers.length;n++){var o=ChevRes.Storage.Maps[r].markers[n].crFilterID;"nofilter"!==o&&(t!==o&&(i?ChevRes.Storage.Maps[r].markers[n].setMap(ChevRes.Storage.Maps[r].map):ChevRes.Storage.Maps[r].markers[n].setMap(null)))}})}},markerContent:function(e){var a="";return a+='<div class="cr-map-infobox">',a+='<div class="cr-map-infobox-inner">',a+='<h4 class="cr-map-infobox-title">'+e.title+"</h4>",a+='<div class="cr-map-infobox-text-image"><div class="cr-map-infobox-text-image-inner">',e.thumb&&(a+='<div class="cr-map-infobox-image">',a+='<a href="'+e.full_image+'"><img alt="" src="'+e.thumb+'"/></a>',a+="</div>"),e.text&&(a+='<div class="cr-map-infobox-text">',a+="<p>"+e.text+"</p>",e.cta_title&&(a+='<div class="cr-map-infobox-cta-wrap">',a+='<a class="cr-button-bordered" href="'+e.cta_url+'"',"yes"===e.cta_nt&&(a+=' target="_blank"'),a+=">"+e.cta_title+"</a>",a+="</div>"),a+="</div>"),a+="</div></div>",a+="</div>",a+="</div>"},closeMapInfoboxes:function(e,a){if(void 0!==ChevRes.Storage.Maps[e])for(var t=ChevRes.Storage.Maps[e].markers,r=0;r<t.length;r++)t[r].crMarkerIndex!==a&&(t[r].crInfoWindow.close(),t[r].crInfoOpened=!1)},createMap:function(e){var a=ChevRes.Storage.MapData.maps[e];ChevRes.Storage.Maps[e]={map:null,markers:[]};for(var t=new google.maps.Map(document.getElementById(e),{center:a.center,zoom:12}),r=0;r<a.markers.length;r++){var i=new google.maps.Marker({map:t,draggable:!1,position:{lat:a.markers[r].lat,lng:a.markers[r].lng},icon:a.markers[r].icon});i.crMapID=e,i.crMarkerIndex=r,i.crFilterID=a.markers[r].filter?a.markers[r].filter:"nofilter",ChevRes.Storage.Maps[e].markers.push(i),i.crInfoWindow=new google.maps.InfoWindow({content:this.markerContent(a.markers[r]),maxWidth:425,setZIndex:10}),i.crInfoOpened=!1,i.addListener("click",function(){ChevRes.closeMapInfoboxes(this.crMapID,this.crMarkerIndex),this.crInfoOpened?(this.crInfoWindow.close(),this.crInfoOpened=!1):(this.crInfoWindow.open(this.getMap(),this),this.crInfoOpened=!0)})}ChevRes.Storage.Maps[e].map=t},resizeEevents:function(){this.miniGalleryGridResize()},events:function(){p(window).on("resize",ChevRes.debounce(function(){ChevRes.resizeEevents()},250)),p(".expanding-image-item").on("mouseenter",function(){p(this).addClass("on-hover").removeClass("not-hover").siblings(".expanding-image-item").removeClass("on-hover").addClass("not-hover")}).on("mouseleave",function(){p(this).removeClass("on-hover").siblings(".expanding-image-item").removeClass("not-hover")})},init:function(){this.heroSlider(),this.waypoint(),this.propertySlider(),this.miniGridGallery(),this.gallery(),this.lightbox(),this.YoutubeVideosFrames(),this.maps(),this.events()}},window.onYouTubeIframeAPIReady=function(){if(void 0!==ChevRes.Storage.YTPlayersData)for(var e in ChevRes.Storage.YTPlayersData)ChevRes.createYTPlayer(e)},window.crInitMaps=function(){ChevRes.initMaps()},p(document).ready(function(){ChevRes.init()})}(jQuery);